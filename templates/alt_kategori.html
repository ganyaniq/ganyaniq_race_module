<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title id="page-title">Alt Kategori - GANYAN IQ</title>
  <meta name="description" content="Alt kategori sayfası - detaylı analizler ve bilgiler." />
  <meta property="og:title" content="Alt Kategori - GANYAN IQ" />
  <meta property="og:description" content="Alt kategori sayfası - detaylı analizler ve bilgiler." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="" id="og-url" />
  <meta property="og:image" content="https://www.ganyaniq.com/static/img/seo-share-image.jpg" />
  <link rel="stylesheet" href="/static/css/main.css" />
</head>
<body>
  <header>
    <nav id="menu"></nav>
  </header>

  <main>
    <h1 id="kategori-baslik"></h1>
    <section id="alt-kategori-listesi"></section>

    <!-- Sosyal paylaşım butonları -->
    <section id="social-share" style="margin-top: 20px;">
      <h2>Sayfayı Paylaş</h2>
      <a href="#" id="share-facebook" target="_blank">Facebook</a> |
      <a href="#" id="share-twitter" target="_blank">Twitter</a> |
      <a href="#" id="share-linkedin" target="_blank">LinkedIn</a>
    </section>
  </main>

  <footer>
    <p>© 2025 GANYAN IQ</p>
  </footer>

  <script>
    async function loadAltKategori() {
      const slug = window.location.pathname.split('/').pop();
      const res = await fetch(`/api/alt_kategori/${slug}`);
      const data = await res.json();

      document.getElementById('kategori-baslik').textContent = data.name;
      document.title = data.name + " - GANYAN IQ";
      document.getElementById('page-title').textContent = document.title;
      document.getElementById('og-url').setAttribute('content', window.location.href);

      const container = document.getElementById('alt-kategori-listesi');
      data.items.forEach(item => {
        const div = document.createElement('div');
        div.className = 'alt-kategori-item';
        div.innerHTML = `
          <a href="/detay/${item.slug}">${item.name}</a>
          <p>${item.description}</p>
        `;
        container.appendChild(div);
      });
    }
    loadAltKategori();

    // Sosyal paylaşım linkleri oluşturma
    function setShareLinks() {
      const pageUrl = encodeURIComponent(window.location.href);
      const pageTitle = encodeURIComponent(document.title);

      document.getElementById('share-facebook').href = `https://www.facebook.com/sharer/sharer.php?u=${pageUrl}`;
      document.getElementById('share-twitter').href = `https://twitter.com/intent/tweet?url=${pageUrl}&text=${pageTitle}`;
      document.getElementById('share-linkedin').href = `https://www.linkedin.com/sharing/share-offsite/?url=${pageUrl}`;
    }

    window.addEventListener('load', setShareLinks);
  </script>
</body>
</html>
